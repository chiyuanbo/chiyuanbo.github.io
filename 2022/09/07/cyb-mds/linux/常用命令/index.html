<!DOCTYPE html><html lang="zh-Hans"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"><meta name="description" content="常用命令"><meta name="keywords" content="Linux,Shell"><meta name="author" content="YB-CHI"><meta name="copyright" content="YB-CHI"><title>常用命令 | YB-CHI</title><link rel="shortcut icon" href="/melody-favicon.ico"><link rel="stylesheet" href="/css/index.css?version=1.9.1"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/font-awesome@latest/css/font-awesome.min.css?version=1.9.1"><meta name="format-detection" content="telephone=no"><meta http-equiv="x-dns-prefetch-control" content="on"><link rel="dns-prefetch" href="https://cdn.jsdelivr.net"><meta http-equiv="Cache-Control" content="no-transform"><meta http-equiv="Cache-Control" content="no-siteapp"><script>var GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: {"path":"search.xml","languages":{"hits_empty":"找不到您查询的内容:${query}"}},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  hexoVersion: '6.2.0'
} </script><meta name="generator" content="Hexo 6.2.0"></head><body><canvas class="fireworks"></canvas><i class="fa fa-arrow-right" id="toggle-sidebar" aria-hidden="true"></i><div id="sidebar" data-display="true"><div class="toggle-sidebar-info text-center"><span data-toggle="切换文章详情">切换站点概览</span><hr></div><div class="sidebar-toc"><div class="sidebar-toc__title">目录</div><div class="sidebar-toc__progress"><span class="progress-notice">你已经读了</span><span class="progress-num">0</span><span class="progress-percentage">%</span><div class="sidebar-toc__progress-bar"></div></div><div class="sidebar-toc__content"><ol class="toc"><li class="toc-item toc-level-4"><a class="toc-link" href="#jdbc%E8%BF%9E%E6%8E%A5hive"><span class="toc-number">1.</span> <span class="toc-text">jdbc连接hive</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%BF%9E%E6%8E%A5Phoenix"><span class="toc-number">2.</span> <span class="toc-text">连接Phoenix</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ls-l%E6%8E%92%E5%BA%8F"><span class="toc-number">3.</span> <span class="toc-text">ls -l排序</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E8%AF%A2%E5%8F%AF%E6%89%A7%E8%A1%8C%E6%96%87%E4%BB%B6%E5%91%BD%E4%BB%A4"><span class="toc-number">4.</span> <span class="toc-text">查询可执行文件命令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%99SecureCRT%E5%AE%89%E8%A3%85%E4%B8%8A%E4%BC%A0%E5%92%8C%E4%B8%8B%E8%BD%BD%E7%9A%84%E5%B7%A5%E5%85%B7"><span class="toc-number">5.</span> <span class="toc-text">给SecureCRT安装上传和下载的工具</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#centos7%E5%BC%80%E6%9C%BA%E6%A8%A1%E5%BC%8F"><span class="toc-number">6.</span> <span class="toc-text">centos7开机模式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%87%E6%8D%A2%E7%94%A8%E6%88%B7"><span class="toc-number">7.</span> <span class="toc-text">切换用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%97%A0%E6%B3%95%E7%94%A8yum%E5%AE%89%E8%A3%85"><span class="toc-number">8.</span> <span class="toc-text">无法用yum安装</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#rz%E4%B8%8A%E4%BC%A0%E4%B8%8D%E6%88%90%E5%8A%9F-was-skipped"><span class="toc-number">9.</span> <span class="toc-text">rz上传不成功 *was skipped</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8tar%E5%91%BD%E4%BB%A4%E8%A7%A3%E5%8E%8B-zip%E6%96%87%E4%BB%B6%E7%9A%84%E6%97%B6%E5%80%99%EF%BC%8C%E9%81%87%E5%88%B0%E5%A6%82%E4%B8%8B%E5%BC%82%E5%B8%B8"><span class="toc-number">10.</span> <span class="toc-text">使用tar命令解压.zip文件的时候，遇到如下异常</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%8F%98%E9%87%8F%E7%9A%84%E4%B8%89%E7%A7%8D%E6%96%B9%E6%B3%95"><span class="toc-number">11.</span> <span class="toc-text">设置变量的三种方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E7%94%A8%E6%88%B7-%E8%B5%8B%E4%BA%88root%E6%9D%83"><span class="toc-number">12.</span> <span class="toc-text">添加用户 赋予root权</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%98%B2%E7%81%AB%E5%A2%99"><span class="toc-number">13.</span> <span class="toc-text">防火墙</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#linux6"><span class="toc-number">13.1.</span> <span class="toc-text">linux6</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#linux7"><span class="toc-number">13.2.</span> <span class="toc-text">linux7</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E7%94%A8%E6%88%B7"><span class="toc-number">14.</span> <span class="toc-text">新增用户</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B0%E5%A2%9E%E7%A1%AC%E7%9B%98"><span class="toc-number">15.</span> <span class="toc-text">新增硬盘</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%B3%E4%BA%8E%E5%88%86%E5%8C%BA"><span class="toc-number">16.</span> <span class="toc-text">关于分区</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E6%9F%90%E4%B8%80%E7%AB%AF%E5%8F%A3%E7%9A%84%E5%8D%A0%E7%94%A8%E6%83%85%E5%86%B5%EF%BC%9A-lsof-i-%E7%AB%AF%E5%8F%A3%E5%8F%B7"><span class="toc-number">17.</span> <span class="toc-text">查看某一端口的占用情况： lsof -i:端口号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#centos6-7%E8%AE%BE%E7%BD%AE%E5%BC%80%E6%9C%BA%E5%90%AF%E5%8A%A8%E5%91%BD%E4%BB%A4%E7%95%8C%E9%9D%A2"><span class="toc-number">18.</span> <span class="toc-text">centos6.7设置开机启动命令界面</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E5%86%85%E6%A0%B8%E7%89%88%E6%9C%AC"><span class="toc-number">19.</span> <span class="toc-text">查看系统内核版本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8B%E7%B3%BB%E7%BB%9F%E7%89%88%E6%9C%AC"><span class="toc-number">20.</span> <span class="toc-text">查看系统版本</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%9F%A5%E7%9C%8Bsftp%E5%92%8Cftp%E8%BF%9E%E6%8E%A5%E6%95%B0"><span class="toc-number">21.</span> <span class="toc-text">查看sftp和ftp连接数</span></a></li></ol></div></div><div class="author-info hide"><div class="author-info__avatar text-center"><img src="/img/avatar.png"></div><div class="author-info__name text-center">YB-CHI</div><div class="author-info__description text-center"></div><hr><div class="author-info-articles"><a class="author-info-articles__archives article-meta" href="/archives"><span class="pull-left">文章</span><span class="pull-right">104</span></a><a class="author-info-articles__tags article-meta" href="/tags"><span class="pull-left">标签</span><span class="pull-right">48</span></a></div></div></div><div id="content-outer"><div id="top-container" style="background-image: url(https://tva3.sinaimg.cn/large/be1594fagy1h47naw7o35j22yh0wdtvn.jpg)"><div id="page-header"><span class="pull-left"> <a id="site-name" href="/">YB-CHI</a></span><i class="fa fa-bars toggle-menu pull-right" aria-hidden="true"></i><span class="pull-right menus">   <a class="site-page" href="/">Home</a><a class="site-page" href="/archives">Archives</a><a class="site-page" href="/tags">Tags</a><a class="site-page" href="/categories">Categories</a></span><span class="pull-right"><a class="site-page social-icon search"><i class="fa fa-search"></i><span> 搜索</span></a></span></div><div id="post-info"><div id="post-title">常用命令</div><div id="post-meta"><time class="post-meta__date"><i class="fa fa-calendar" aria-hidden="true"></i> 2022-09-07</time><div class="post-meta-wordcount"><span>字数总计: </span><span class="word-count">2.2k</span><span class="post-meta__separator">|</span><span>阅读时长: 8 分钟</span></div></div></div></div><div class="layout" id="content-inner"><article id="post"><div class="article-container" id="post-content"><p>&#x3D;&#x3D;作者：YB-Chi&#x3D;&#x3D;</p>
<p>[toc]</p>
<h4 id="jdbc连接hive"><a href="#jdbc连接hive" class="headerlink" title="jdbc连接hive"></a>jdbc连接hive</h4><p><code>beeline -u jdbc:hive2://192.168.6.1:10009 -n yarn</code></p>
<h4 id="连接Phoenix"><a href="#连接Phoenix" class="headerlink" title="连接Phoenix"></a>连接Phoenix</h4><p><code>sqlline.py localhost可以进入phoenix shell   然后   !tables查看表</code></p>
<h4 id="ls-l排序"><a href="#ls-l排序" class="headerlink" title="ls -l排序"></a>ls -l排序</h4><pre><code>按大小排序
[root@localhost ~]# ll -Sh 

按时间排序

[root@localhost ~]# ll -rt


ll －t 是降序， ll －t ｜ tac 是升序
</code></pre>
<h4 id="查询可执行文件命令"><a href="#查询可执行文件命令" class="headerlink" title="查询可执行文件命令"></a>查询可执行文件命令</h4><pre><code>which eclipse
想要在xstar上执行eclipse的话如果有变量直接eclipse就可以了
</code></pre>
<h4 id="给SecureCRT安装上传和下载的工具"><a href="#给SecureCRT安装上传和下载的工具" class="headerlink" title="给SecureCRT安装上传和下载的工具"></a>给SecureCRT安装上传和下载的工具</h4><pre><code>yum install lrzsz
现在CentOS7使用systemd作为新的init系统，而systemd系统使用“target”来代替“runlevel”，默认有两个主要的target：

 multi-user.target：相当于runlevel 3[命令行界面]，graphical.target：相当于runlevel 5[图形界面]
 
设置默认的target则使用命令：
ln -sf /lib/systemd/system/&lt;target name&gt;.target /etc/systemd/system/default.target

我这里要将CentOS7开机默认进入命令行界面，则运行命令：
ln -sf /lib/systemd/system/multi-user.target /etc/systemd/system/default.target
</code></pre>
<h4 id="centos7开机模式"><a href="#centos7开机模式" class="headerlink" title="centos7开机模式"></a>centos7开机模式</h4><p>现在CentOS7使用systemd作为新的init系统，而systemd系统使用“target”来代替“runlevel”，默认有两个主要的target：	</p>
<pre><code>multi-user.target：相当于runlevel 3[命令行界面]，			
graphical.target：相当于runlevel 5[图形界面]

设置默认的target则使用命令：
ln -sf /lib/systemd/system/&lt;target name&gt;.target 	
/etc/systemd/system/default.target

我这里要将CentOS7开机默认进入命令行界面，则运行命令：
ln -sf /lib/systemd/system/multi-user.target 
/etc/systemd/system/default.target
</code></pre>
<h4 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h4><pre><code>su [user] 和 su - [user]的区别：
su [user]切换到其他用户，但是不切换环境变量，su - [user]则是完整的切换到新的用户环境。

如：

[root@rac1 ~]# pwd  --当前目录
/root
[root@rac1 ~]# su oracle --使用su [user]
[oracle@rac1 root]$ pwd  --当前目录没有改变，还是之前的用户目录
/root
[oracle@rac1 root]$ su - oracle --使用su - [user]
Password:
[oracle@rac1 ~]$ pwd   --当前目录变为当前用户的家目录
/home/oracle
[oracle@rac1 ~]$
所以建议大家在切换用户时，尽量用su - [use r]，否则可能会出现环境变量不对的问题。
</code></pre>
<h4 id="无法用yum安装"><a href="#无法用yum安装" class="headerlink" title="无法用yum安装"></a>无法用yum安装</h4><p>&#x3D;&#x3D;提示：file:&#x2F;&#x2F;&#x2F;mnt&#x2F;cdrom&#x2F;repodata&#x2F;repomd.xml: [Errno 14] Could not open&#x2F;read file:&#x2F; &#x3D;&#x3D;    </p>
<p><img src="https://wx4.sinaimg.cn/large/be1594fagy1fytidtowsyj20j50dmdgn.jpg" alt="image"></p>
<p><img src="https://wx3.sinaimg.cn/large/be1594fagy1fytieu55wvj20go0h3mxu.jpg" alt="image"></p>
<h4 id="rz上传不成功-was-skipped"><a href="#rz上传不成功-was-skipped" class="headerlink" title="rz上传不成功 *was skipped"></a>rz上传不成功 *was skipped</h4><p>&#x3D;&#x3D;权限不够&#x3D;&#x3D;</p>
<p><img src="https://wx4.sinaimg.cn/large/be1594fagy1fytin3h1itj20iv067glt.jpg" alt="image"></p>
<h4 id="使用tar命令解压-zip文件的时候，遇到如下异常"><a href="#使用tar命令解压-zip文件的时候，遇到如下异常" class="headerlink" title="使用tar命令解压.zip文件的时候，遇到如下异常"></a>使用tar命令解压.zip文件的时候，遇到如下异常</h4><pre><code>linuxidc@Ubuntu:~/Documents$ tar -xzvf wls1033_dev.zip
gzip: stdin has more than one entry--rest ignored
tar: Child returned status 2
tar: Error is not recoverable: exiting now
</code></pre>
<p>&#x3D;&#x3D;tar命令是调用了gunzip命令的，<br>对只有一个压缩内容的文件来解压的时候才用tar， 而如果压缩包里有多个文件被压缩了，<br>tar命令不能继续工作。可以采用unzip命令去解压。<br>先查看是否已安装unzip，没有安装的话下载unzip。<br>然后解压缩：&#x3D;&#x3D;</p>
<pre><code>linuxidc@ubuntu:~/Documents$  unzip wls1033_dev,zip -d weblogic
</code></pre>
<p>解压缩到当前文件夹下的weblogic文件夹下。</p>
<p><img src="https://wx4.sinaimg.cn/large/be1594fagy1fytiot13t3j20mg0mvjth.jpg" alt="image"></p>
<h4 id="设置变量的三种方法"><a href="#设置变量的三种方法" class="headerlink" title="设置变量的三种方法"></a>设置变量的三种方法</h4><ol>
<li>在&#x2F;etc&#x2F;profile文件中添加变量【对所有用户生效（永久的）】</li>
</ol>
<p>用vi在文件&#x2F;etc&#x2F;profile文件中增加变量，该变量将会对Linux下所有用户有效，并且是“永久的”。</p>
<p>例如：编辑&#x2F;etc&#x2F;profile文件，添加CLASSPATH变量</p>
<pre><code>vi /etc/profile
export CLASSPATH=.:$JAVA_HOME/lib/tools.jar;$JAVA_HOME/lib/dt.jar
</code></pre>
<p>注：修改文件后要想马上生效还要运行# source &#x2F;etc&#x2F;profile不然只能在下次重进此用户时生效。</p>
<ol start="2">
<li>在用户目录下的.bash_profile文件中增加变量【对单一用户生效（永久的）】</li>
</ol>
<p>用VI在用户目录下的.bash_profile文件中增加变量，改变量仅会对当前用户有效，并且是“永久的”。</p>
<p>例如：编辑li用户目录（&#x2F;home&#x2F;li）下的.bashrc</p>
<pre><code>$ vi /home/li/.bashrc  
</code></pre>
<p>添加如下内容：</p>
<pre><code>export CLASSPATH=.:$JAVA_HOME/lib/tools.jar;$JAVA_HOME/lib/dt.jar
</code></pre>
<p>注：修改文件后要想马上生效还要运行$ source &#x2F;home&#x2F;li&#x2F;.bashrc不然只能在下次重进此用户时生效。</p>
<ol start="3">
<li>直接运行export命令定义变量【只对当前shell（BASH）有效（临时的）】</li>
</ol>
<p>在shell的命令行下直接使用[export变量名&#x3D;变量值]定义变量，该变量只在当前的shell（BASH）或其子shell（BASH）下是有效的，shell关闭了，变量也就失效了，再打开新shell时就没有这个变量，需要使用的话还需要重新定义。</p>
<h4 id="添加用户-赋予root权"><a href="#添加用户-赋予root权" class="headerlink" title="添加用户 赋予root权"></a>添加用户 赋予root权</h4><p>1、添加用户，首先用adduser命令添加一个普通用户，命令如下：</p>
<pre><code>#adduser tommy
//添加一个名为tommy的用户
#passwd tommy   //修改密码
Changing password for user tommy.
New UNIX password:     //在这里输入新密码
Retype new UNIX password:  //再次输入新密码
passwd: all authentication tokens updated successfully.
</code></pre>
<p>2、赋予root权限</p>
<p>方法一：修改 &#x2F;etc&#x2F;sudoers 文件，找到下面一行，把前面的注释（#）去掉</p>
<pre><code>Allows people in group wheel to run all commands
%wheel    ALL=(ALL)    ALL
</code></pre>
<p>然后修改用户，使其属于root组（wheel），命令如下：</p>
<pre><code>#usermod -g root tommy
</code></pre>
<p>修改完毕，现在可以用tommy帐号登录，然后用命令 su – ，即可获得root权限进行操作。</p>
<p>方法二：修改 &#x2F;etc&#x2F;sudoers 文件，找到下面一行，在root下面添加一行，如下所示：</p>
<pre><code>Allow root to run any commands anywhere
root    ALL=(ALL)     ALL
tommy   ALL=(ALL)     ALL
</code></pre>
<p>修改完毕，现在可以用tommy帐号登录，然后用命令 sudo – ，即可获得root权限进行操作。</p>
<p>方法三：修改 &#x2F;etc&#x2F;passwd 文件，找到如下行，把用户ID修改为 0 ，如下所示：</p>
<pre><code>tommy:x:0:33:tommy:/data/webroot:/bin/bash
</code></pre>
<h4 id="防火墙"><a href="#防火墙" class="headerlink" title="防火墙"></a>防火墙</h4><h5 id="linux6"><a href="#linux6" class="headerlink" title="linux6"></a>linux6</h5><ol>
<li><p>重启后生效</p>
<p> 开启： chkconfig iptables on<br> 关闭： chkconfig iptables off</p>
</li>
<li><p>即时生效，重启后失效service 方式</p>
<p> 开启： service iptables start<br> 关闭： service iptables stop</p>
</li>
</ol>
<h5 id="linux7"><a href="#linux7" class="headerlink" title="linux7"></a>linux7</h5><p>CentOS7这个版本的防火墙默认使用的是firewall，与之前的版本使用iptables不一样。按如下方便配置防火墙：</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1</span>、 查看防火墙状态</span><br><span class="line">    firewall<span class="literal">-cmd</span>    <span class="literal">--state</span></span><br><span class="line">    关闭防火墙</span><br><span class="line">    systemctl  stop   firewalld.service</span><br><span class="line">    开启防火墙</span><br><span class="line">    systemctl  <span class="built_in">start</span>   firewalld.service</span><br><span class="line"><span class="number">2</span>、关闭开机启动：systemctl disable firewalld.service</span><br><span class="line"></span><br><span class="line"><span class="number">3</span>、安装iptables防火墙，执行以下命令安装iptables防火墙：yum install iptables<span class="literal">-services</span>  </span><br><span class="line">    开启iptables防火墙的命令是：</span><br><span class="line">    systemctl  <span class="built_in">start</span>  iptables.service</span><br><span class="line">    重启iptables防火墙的命令是：</span><br><span class="line">    systemctl  restart  iptables.service</span><br><span class="line">    关闭iptables防火墙的命令是：</span><br><span class="line">    systemctl  stop  iptables.service</span><br><span class="line">    查看iptables防火墙状态的命令是：</span><br><span class="line">    systemctl  status  iptables.service</span><br></pre></td></tr></table></figure>
<h4 id="新增用户"><a href="#新增用户" class="headerlink" title="新增用户"></a>新增用户</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">新增用户</span><br><span class="line">[<span class="type">root</span>@<span class="type">BDS</span>-<span class="type">DATA2</span> <span class="type">kafka</span>]<span class="comment"># useradd -g root -m yuanbo</span></span><br><span class="line">[<span class="type">root</span>@<span class="type">BDS</span>-<span class="type">DATA2</span> <span class="type">kafka</span>]<span class="comment"># passwd yuanbo</span></span><br><span class="line">更改用户 yuanbo 的密码 。</span><br><span class="line">新的 密码：yuanbo</span><br><span class="line">无效的密码： 它基于字典单词</span><br><span class="line">无效的密码： 过于简单</span><br><span class="line">重新输入新的 密码：yuanbo</span><br><span class="line">passwd： 所有的身份验证令牌已经成功更新。</span><br><span class="line"></span><br><span class="line">修改sudo权限</span><br><span class="line">[<span class="type">root</span>@<span class="type">BDS</span>-<span class="type">CM</span> <span class="type">config</span>]<span class="comment"># vim /etc/sudoers</span></span><br><span class="line">在root    ALL=(ALL)       ALL下添加一行</span><br><span class="line">yuanbo  ALL=(ALL)       ALL</span><br></pre></td></tr></table></figure>

<h4 id="新增硬盘"><a href="#新增硬盘" class="headerlink" title="新增硬盘"></a>新增硬盘</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">fdisk  /dev/sdb</span><br><span class="line">n</span><br><span class="line">p</span><br><span class="line">l</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">wq</span><br><span class="line"></span><br><span class="line">然后 再做文件系统   mkfs.ext3 /dev/sdb1</span><br><span class="line">  </span><br><span class="line"></span><br><span class="line">然后 vim  /etc/fstab </span><br><span class="line"></span><br><span class="line">看着上面的格式加一行 </span><br><span class="line">/dev/sdb1        /dataN        ext3      defaults    <span class="number">0</span>       <span class="number">0</span>  </span><br></pre></td></tr></table></figure>
<h4 id="关于分区"><a href="#关于分区" class="headerlink" title="关于分区"></a>关于分区</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">[<span class="type">root</span>@<span class="type">BDS</span> <span class="type">data3</span>]<span class="comment"># fdisk /dev/sdb1</span></span><br><span class="line"></span><br><span class="line">Device contains neither a valid DOS partition table, nor Sun, SGI or OSF disklabel</span><br><span class="line"></span><br><span class="line">Building a new DOS disklabel with disk identifier <span class="number">0</span>x0b32c3f6.</span><br><span class="line"></span><br><span class="line">Changes will remain <span class="keyword">in</span> memory only, <span class="keyword">until</span> you decide to <span class="built_in">write</span> them.</span><br><span class="line"></span><br><span class="line">After that, of course, the previous content won<span class="string">&#x27;t be recoverable.</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">Warning: invalid flag 0x0000 of partition table 4 will be corrected by w(rite)</span></span><br><span class="line"><span class="string"></span></span><br><span class="line"><span class="string">WARNING: DOS-compatible mode is deprecated. It&#x27;</span>s strongly recommended to</span><br><span class="line">		<span class="keyword">switch</span> off the mode (command <span class="string">&#x27;c&#x27;</span>) and change display units to</span><br><span class="line">     	sectors (command <span class="string">&#x27;u&#x27;</span>).</span><br><span class="line">     	</span><br><span class="line">Command (m <span class="keyword">for</span> help): m</span><br><span class="line"></span><br><span class="line">Command action</span><br><span class="line">       <span class="comment">#切换一个可启动的标志</span></span><br><span class="line">   a   toggle a bootable flag</span><br><span class="line">       <span class="comment">#编辑bsd磁碟标签</span></span><br><span class="line">   b   edit bsd disklabel</span><br><span class="line">       <span class="comment">#切换dos兼容性标志</span></span><br><span class="line">   c   toggle the dos compatibility flag</span><br><span class="line">       <span class="comment">#删除一个分区</span></span><br><span class="line">   d   delete a partition</span><br><span class="line">       <span class="comment">#已知的分区类型列表</span></span><br><span class="line">   l   list known partition types</span><br><span class="line">       <span class="comment">#打印这个菜单</span></span><br><span class="line">   m   print this menu</span><br><span class="line">       <span class="comment">#添加一个新的分区</span></span><br><span class="line">   n   add a new partition</span><br><span class="line">       <span class="comment">#创建一个新的空DOS分区表</span></span><br><span class="line">   o   create a new empty DOS partition table</span><br><span class="line">       <span class="comment">#打印分区表</span></span><br><span class="line">   p   print the partition table</span><br><span class="line">       <span class="comment">#退出不保存更改</span></span><br><span class="line">   q   quit without saving changes</span><br><span class="line">       <span class="comment">#创建一个新的空的Sun disklabel</span></span><br><span class="line">   s   create a new empty Sun disklabel</span><br><span class="line">       <span class="comment">#更改分区的系统id</span></span><br><span class="line">   t   change a partition<span class="string">&#x27;s system id</span></span><br><span class="line"><span class="string">       #改变显示/输入单元</span></span><br><span class="line"><span class="string">   u   change display/entry units</span></span><br><span class="line"><span class="string">       #验证分区表</span></span><br><span class="line"><span class="string">   v   verify the partition table</span></span><br><span class="line"><span class="string">       #将表写入磁盘并退出</span></span><br><span class="line"><span class="string">   w   write table to disk and exit</span></span><br><span class="line"><span class="string">       #额外的功能(专家)</span></span><br><span class="line"><span class="string">   x   extra functionality (experts only)</span></span><br><span class="line"><span class="string">   </span></span><br><span class="line"><span class="string">   </span></span><br></pre></td></tr></table></figure>

<h4 id="查看某一端口的占用情况：-lsof-i-端口号"><a href="#查看某一端口的占用情况：-lsof-i-端口号" class="headerlink" title="查看某一端口的占用情况： lsof -i:端口号"></a>查看某一端口的占用情况： lsof -i:端口号</h4><h4 id="centos6-7设置开机启动命令界面"><a href="#centos6-7设置开机启动命令界面" class="headerlink" title="centos6.7设置开机启动命令界面"></a>centos6.7设置开机启动命令界面</h4><p>开机后进入图形化界面还是进入命令行取决于inittab文件中的配置。该文件位于etc目录下。</p>
<figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#vim /etc/inittab</span></span><br><span class="line"></span><br><span class="line">id:<span class="number">5</span>:initdefault:(默认的 run level 等级为 <span class="number">5</span>,即图形 界面)</span><br><span class="line">将 <span class="number">5</span> 修改为 <span class="number">3</span> 即可。</span><br></pre></td></tr></table></figure>
<p>保存文件后重启系统你就可以看见是启动的文本界面了。</p>
<h4 id="查看系统内核版本"><a href="#查看系统内核版本" class="headerlink" title="查看系统内核版本"></a>查看系统内核版本</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /proc/version</span><br></pre></td></tr></table></figure>

<h4 id="查看系统版本"><a href="#查看系统版本" class="headerlink" title="查看系统版本"></a>查看系统版本</h4><figure class="highlight powershell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/redhat<span class="literal">-release</span></span><br></pre></td></tr></table></figure>

<h4 id="查看sftp和ftp连接数"><a href="#查看sftp和ftp连接数" class="headerlink" title="查看sftp和ftp连接数"></a>查看sftp和ftp连接数</h4><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta prompt_"># </span><span class="language-bash">虽然是打印tcp，但是基本都是sftp和ftp连接</span></span><br><span class="line">netstat -n | awk &#x27;/^tcp/ &#123;++S[$NF]&#125; END &#123;for(a in S) print a, S[a]&#125;&#x27;</span><br></pre></td></tr></table></figure>

</div></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:undefined">YB-CHI</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="https://yb-chi.top/2022/09/07/cyb-mds/linux/常用命令/">https://yb-chi.top/2022/09/07/cyb-mds/linux/常用命令/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a target="_blank" rel="noopener" href="https://creativecommons.org/licenses/by-nc-sa/4.0/">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://yb-chi.top">YB-CHI</a>！</span></div></div><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/Linux/">Linux</a><a class="post-meta__tags" href="/tags/Shell/">Shell</a></div><nav id="pagination"><div class="prev-post pull-left"><a href="/2022/09/07/cyb-mds/linux/VMWARE%E5%85%8B%E9%9A%86%E8%99%9A%E6%9C%BA%E6%9B%B4%E6%94%B9%E9%9D%99%E6%80%81IP/"><i class="fa fa-chevron-left">  </i><span>VMWARE克隆虚机更改静态IP</span></a></div><div class="next-post pull-right"><a href="/2022/09/07/cyb-mds/linux/%E4%B8%AD%E6%A0%87%E9%BA%92%E9%BA%9Fv5%E7%94%B3%E5%A8%81cpu%E6%9C%8D%E5%8A%A1%E5%99%A8%E9%83%A8%E7%BD%B2/"><span>中标麒麟v5申威cpu服务器部署</span><i class="fa fa-chevron-right"></i></a></div></nav></div></div><footer class="footer-bg" style="background-image: url(https://tva3.sinaimg.cn/large/be1594fagy1h47naw7o35j22yh0wdtvn.jpg)"><div class="layout" id="footer"><div class="copyright">&copy;2016 - 2022 By YB-CHI</div><div class="framework-info"><span>驱动 - </span><a target="_blank" rel="noopener" href="http://hexo.io"><span>Hexo</span></a><span class="footer-separator">|</span><span>主题 - </span><a target="_blank" rel="noopener" href="https://github.com/Molunerfinn/hexo-theme-melody"><span>Melody</span></a></div><div class="busuanzi"><script async src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><span id="busuanzi_container_page_pv"><i class="fa fa-file"></i><span id="busuanzi_value_page_pv"></span><span></span></span></div></div></footer><i class="fa fa-arrow-up" id="go-up" aria-hidden="true"></i><script src="https://cdn.jsdelivr.net/npm/animejs@latest/lib/anime.min.js"></script><script src="https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-animate@latest/velocity.min.js"></script><script src="https://cdn.jsdelivr.net/npm/velocity-ui-pack@latest/velocity.ui.min.js"></script><script src="/js/utils.js?version=1.9.1"></script><script src="/js/fancybox.js?version=1.9.1"></script><script src="/js/sidebar.js?version=1.9.1"></script><script src="/js/copy.js?version=1.9.1"></script><script src="/js/fireworks.js?version=1.9.1"></script><script src="/js/transition.js?version=1.9.1"></script><script src="/js/scroll.js?version=1.9.1"></script><script src="/js/head.js?version=1.9.1"></script><script src="/js/search/local-search.js"></script><script>if(/Android|webOS|iPhone|iPod|iPad|BlackBerry/i.test(navigator.userAgent)) {
  $('#nav').addClass('is-mobile')
  $('footer').addClass('is-mobile')
  $('#top-container').addClass('is-mobile')
}</script><div class="search-dialog" id="local-search"><div class="search-dialog__title" id="local-search-title">本地搜索</div><div id="local-input-panel"><div id="local-search-input"><div class="local-search-box"><input class="local-search-box--input" placeholder="搜索文章"></div></div></div><hr><div id="local-search-results"><div id="local-hits"></div><div id="local-stats"><div class="local-search-stats__hr" id="hr"><span>由</span> <a target="_blank" rel="noopener" href="https://github.com/wzpan/hexo-generator-search" style="color:#49B1F5;">hexo-generator-search</a>
 <span>提供支持</span></div></div></div><span class="search-close-button"><i class="fa fa-times"></i></span></div><div class="search-mask"></div></body></html>